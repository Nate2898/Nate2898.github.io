<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit | Notepad Online</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" ></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/editnote.css" type="text/css">
    <link rel="stylesheet" href="../css/notelist-sidebyside.css" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="../images/nameicon.ico" type="image/ico">
</head>
<body>
    <header>
        <div class="topbar">
            <a id="active" class="topbar-middle" href="../index">Notepad Online</a>
            <div>
                <a class="topbar-right" id="bar-login" href="./login">Login/ SignUp</a>
                <a class="topbar-right" id="logout" href="#logout" style="display: none;">LogOut</a>
            </div>
        </div>
        <div class="fadee"></div>
    </header>
    <!-- Mobile menu for side panel -->
    <a id="mobile-menu" href="#menu">
        <i class="bi bi-list"></i>
   </a>
   <!-- Side panel -->
    <div class="note-tab" id="note-tab">
        <h1>Notes</h1>
        <div class="note-tab-buttons">
            <a title="New Note" href="./newnote" id="newnote-side">
                <i class="bi bi-plus-circle" aria-hidden="true"></i>
                <i class="bi bi-plus-circle-fill" aria-hidden="true" ></i>
            </a>
            <a title="Share Note" style="cursor: pointer;" id="sharenote">
                <i class="bi bi-share" aria-hidden="true"></i>
                <i class="bi bi-share-fill" aria-hidden="true" ></i>
            </a>
            <a title="Reload Notes" style="cursor: pointer;" id="reloadnotes">
                <i class="bi bi-arrow-repeat" aria-hidden="true"></i>
                <i class="bi bi-arrow-clockwise" aria-hidden="true" ></i>
            </a>
            <a title="Settings" style="cursor: pointer;" class="settings-button" id="settings-button">
                <i class="bi bi-gear" aria-hidden="true"></i>
                <i class="bi bi-gear-fill" aria-hidden="true" ></i>
            </a>
        </div>
        <div class="note-tab-content">
            <div class="inline">
                <p>Sort by Date:</p><button id="inline-button" type="button">Newest</button>
            </div>
            <div class="paragraph">
                <p>Note Name</p>
                <p>Date</p>
            </div>
            <!-- notes appear list  -->
            <div >
                <svg id="spinner" viewBox="0 0 50 50">
                    <circle class="outline" cx="25" cy="25" r="20" fill="none"></circle>
                    <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
                </svg>
                <ul id="note-list">
                    <!-- <li class="note">
                        <a href="#note1" class="note-link">
                            <span class="note-name">Note Name</span>
                            <span class="note-date">(date2032)</span>
                        </a>
                        <a href="#delete" class="trash-link"><i id="trash" class="bi bi-trash"></i></a>
                    </li> -->
                </ul>
            </div>
        </div>
    </div>
    <!-- settings popout -->
    <div class="settings-block2 class show" style="z-index: 9;" id="settings-block2">
    </div>
    <div class="settings-block" id="settings-block">
        <div class="settings-pop">
            <h1>Settings</h1>
            <div class="user" style="margin-top: -11px;">
                <!-- <h3 style="font-style: oblique;">Welcome: &nbsp;</h3><h3 id="username"></h3> -->
            </div>
            <div class="settings-content">
                <!-- new settings appear -->
                    <a title="Settings"  style="cursor: pointer; display:none;" class="settings-button2" id="settings-button2">
                        <i class="bi bi-gear" aria-hidden="true"></i>
                        <i class="bi bi-gear-fill" aria-hidden="true" ></i>
                    </a>
                <div class="settings-content">
                    <p>Change Theme:</p>
                    <div class="center">
                        <button id="light" type="button">Light</button>
                        <button id="dark" type="button">Dark</button>
                    </div>
                </div>
                <div class="settings-content">
                    <p>Change Font:</p>
                    <div class="center">
                        <button id="font1" type="button">Font 1</button>
                        <button id="font2" type="button">Font 2</button>
                    </div>
                    
                   
                    <div id="user-settings" style="display: none;">
                        <div class="user">
                            <h3 style="font-style: oblique;">Welcome: &nbsp;</h3><h3 id="username"></h3>
                        </div>
    
                        <div class="content">
                            <p>Change Account Settings:</p>
                            <div class="center">
                                <button id="change-username" style="background-color: rgb(0,134,255); color:white; margin-bottom:4px;" type="button">Change Username</button>
                            </div>
                            <button id="change-password" style="background-color: rgb(0,134,255); color:white;" type="button">Change Password</button>
                            <div class="center">
                                <a title="Logout" href="#logout" id="logout-button"><p>Logout</p>
                                    <i class="bi bi-x-square" aria-hidden="true"></i>
                                    <i class="bi bi-x-square-fill" aria-hidden="true"></i>
                                </a>
                            </div>
                        </div>
                        </div>
                </div>
                </div>
            </div>
        
    </div>

<!-- Notepad input -->
<div class="noted">
    <div class="notepad">
        <div class="notepad-title">
             <input id="title-input" maxlength="20" type="text" placeholder="Title" required >      
        </div>
        <div class="your-note" id="your-note" contenteditable="true" style="color: rgb(0, 0, 24);">Your note will appear here
        </div>
        <!-- Notepad Buttons -->
        <div class="toolbar">
            <a style="cursor: pointer;" title="Text Style" id="text-style">
                <i class="bi bi-highlighter" aria-hidden="true"></i>
            </a>
            <div class="style-buttons" id="style-buttons">
                <button id="bold" onclick="document.execCommand('bold', false, '')"><b>B</b></button>
                <button id="italic" style="padding: 5px 13.6px;" onclick="document.execCommand('italic', false, '')"><i>I</i></button>
                <button id="underline" onclick="document.execCommand('underline', false, '')"><u>U</u></button>
            </div>
        </div>
        <div class="save-btn">  
            <a style="cursor: pointer;" title="Save Note" id="save-note"><p>Save Note</p>
                <i class="bi bi-floppy" aria-hidden="true"></i>
                <i class="bi bi-floppy-fill" aria-hidden="true"></i>
            </a>
            <a style="cursor: pointer;" title="Delete Note" id="deletenote"><p>Delete Note</p>
                  <i class="bi bi-trash" aria-hidden="true"></i>
                  <i class="bi bi-trash-fill" aria-hidden="true"></i>
            </a>
        </div>
    </div>
</div>

<!-- Loading server popup -->
<div id="loading-popup" style="display: none;">
    <div class="loading-content">
        <h3>Server is Starting Up</h3>
        <svg id="spinner2" viewBox="0 0 50 50">
            <circle class="outline" cx="25" cy="25" r="20" fill="none"></circle>
            <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
        </svg>
    </div>
</div>


<!-- Delete popup -->
<div id="delete-popup-box" style="display: none;">
    <div id="popup-delete">
        <h3>Are you sure you want to delete this note?</h3>
        <p id="note-title"></p>
        <button id="confirm-delete">Yes, delete</button>
        <button id="cancel-delete">Cancel</button>
        <i class="bi bi-exclamation-triangle"></i>
</div>
</div>
<!-- Toaster popups -->
<div class="toast-container position-fixed">
</div>

<!-- Change Username popup -->
<div style="display: none;" class="change-popup"   id="change-username-popup">
    <div id="change-username-popup-content" class="popup-content">
        <h3>Change Username</h3>
        <p>Enter your new Username</p>
        <input id="new-username" type="text" placeholder="New Username" required>
        <p>Confirm your Email:</p>
        <input id="email" type="email" placeholder="Email" required>
        <p>Confirm your Password:</p>
        <input id="password" type="password" placeholder="Password" required>
        <button id="confirm-username">Confirm</button>
        <button id="cancel-username">Cancel</button>
    </div>
</div>

<!-- Change Password popup -->
<div class="change-popup" style="display: none;" id="change-password-popup">
    <div id="change-password-popup-content" class="popup-content">
        <h3>Change Password for:</h3>
        <p id="your-email" style="font-weight: bold;"></p>
        <p>Enter your Old Password</p>
        <form id="change-form">
            <div class="password-container">
                <input id="old-password" type="password" placeholder="Old Password" required>
                <i class="bi bi-eye-slash toggle-password" onclick="togglePassword('old-password', this)"></i>
            </div>
            <p>Enter your New Password</p>
            <div class="password-container">
                <input id="new-password" type="password" placeholder="New Password" required>
                <i class="bi bi-eye-slash toggle-password" onclick="togglePassword('new-password', this)"></i>
            </div>
            <button id="confirm-password">Confirm</button>
            <button id="cancel-password">Cancel</button>
        </form>
    </div>
</div>

<!-- Popup login  -->
<div id="popup-box">
    <div class="popup-login">
        <h3>You are not Logged In!</h3>
        <p>You have to login to access the notes</p>
        <i class="bi bi-exclamation-triangle"></i>
    </div>
</div>
<a href="https://nate2898.github.io/src/index" style="color: black;" target="_blank"><h3 id="owner" style="font-style: italic; margin-left:0%; bottom:0; position:relative">Website By Nathan Drummond-Schwass</h3></a>

<script>
    function togglePassword(inputId, icon) {
        const input = document.getElementById(inputId);
        if (input.type === "password") {
            input.type = "text";
            icon.classList.remove("bi-eye-slash");
            icon.classList.add("bi-eye");
        } else {
            input.type = "password";
            icon.classList.remove("bi-eye");
            icon.classList.add("bi-eye-slash");
        }
    }
    document.getElementById('new-password').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            document.getElementById('confirm-password').click();
        }

    document.getElementById('old-password').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            document.getElementById('confirm-password').click();
        }
    });
    if (e.key === 'Enter') {
        document.getElementById('confirm-password').click();
    }
    });

    document.getElementById('new-username').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            document.getElementById('confirm-username').click();
        }
    });

    document.getElementById('email').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            document.getElementById('confirm-username').click();
        }
    });

    document.getElementById('password').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            document.getElementById('confirm-username').click();
        }
    });

</script>

<!-- <script src="../js/authpopup.js" type="module"></script> -->
<script src="../js/editnote.js"  type="module"></script>
<script src="../js/sidepanel.js"  type="module"></script>
</body>
</html>